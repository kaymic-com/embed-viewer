var Q=Object.defineProperty,Y=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var R=(a,t,s)=>t in a?Q(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,L=(a,t)=>{for(var s in t||(t={}))ee.call(t,s)&&R(a,s,t[s]);if(F)for(var s of F(t))te.call(t,s)&&R(a,s,t[s]);return a},H=(a,t)=>Y(a,X(t));import{d as g,r as V,o as r,c as d,a as e,b as f,w as G,e as k,f as B,n as J,u,g as T,v as le,h as D,i as b,T as C,F as m,j as $,k as oe,t as A,l as y,m as ae,p as U,q as S,s as se,M as ne,x as j,y as re,z as ie,A as ce,B as de,C as ue,D as he,E as ve}from"./vendor.7ce184dd.js";const _e=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(l){if(l.ep)return;l.ep=!0;const n=s(l);fetch(l.href,n)}};_e();var me="./assets/logo.03d6d6da.png";const ge={class:"bg-light"},pe={class:"container-fluid py-1"},fe={class:"d-flex align-items-center"},be=e("img",{src:me,alt:"",height:"32",class:"d-inline-block align-text-top"},null,-1),we=e("div",{id:"navPortal",class:"ms-auto d-flex align-items-center gap-2"},null,-1),ye=g({setup(a){return(t,s)=>{const i=V("router-link");return r(),d("nav",ge,[e("div",pe,[e("div",fe,[f(i,{to:"/",class:""},{default:G(()=>[be]),_:1}),we])])])}}}),N=k(!1);B(N,()=>{N.value?document.body.classList.add("dark"):document.body.classList.remove("dark")});const xe={"-1":0,"1":12,"2":6,"3":4,"4":3,"6":2,"12":1};const ke=g({setup(a){return(t,s)=>{const i=V("router-view");return r(),d("main",{class:J({dark:u(N)})},[f(ye),f(i)],2)}}}),v=T({loading:!1,data:[]});function I(a,t){v.loading=!0;try{v.data=localStorage.galleries?JSON.parse(localStorage.galleries):[]}catch(s){console.warn(s)}finally{v.loading=!1}}function O(){localStorage.galleries=JSON.stringify(v.data)}function W(a={nsfw:!1,col:6,embeds:[],createdAt:new Date().toISOString()}){const t=H(L({},a),{createdAt:new Date().toISOString(),id:le()});return v.data.unshift(t),O(),t}const Ve=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-lg",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})],-1),Ce=[Ve],$e={class:"container py-5"},ze={class:"list-group list-group-flush"},Me={key:0,title:"NSFW",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-exclamation-triangle text-danger",viewBox:"0 0 16 16"},Le=e("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"},null,-1),He=[Le],Se=g({setup(a){const t=D(),s=async()=>{const{id:i}=await W();t.push(`/${i}`)};return(i,l)=>{const n=V("router-link");return r(),d(m,null,[(r(),b(C,{to:"#navPortal"},[e("button",{onClick:s,class:"btn btn-primary",title:"Add Gallery"},Ce)])),e("div",$e,[e("div",ze,[(r(!0),d(m,null,$(u(v).data,o=>(r(),b(n,{key:o.id,to:`/${o.id}`,class:"list-group-item list-group-item-action text-center text-secondary"},{default:G(()=>[oe(A(new Date(o.createdAt).toLocaleString())+" - "+A(o.embeds.length)+" embed(s) ",1),o.nsfw?(r(),d("svg",Me,He)):y("",!0)]),_:2},1032,["to"]))),128))])])],64)}}}),Be=["value"],Ae=["value"],Ne=g({props:{modelValue:null},emits:["update:modelValue"],setup(a,{emit:t}){const s=i=>{t("update:modelValue",parseInt(i.target.value))};return(i,l)=>(r(),d("select",{value:a.modelValue,onChange:s,class:"form-control"},[(r(!0),d(m,null,$(u(xe),(n,o)=>(r(),d("option",{key:`col-coption-${n}`,value:n},A(o),9,Ae))),128))],40,Be))}}),Oe={key:0,class:"container-fluid py-5"},Ge={class:"ratio ratio-16x9"},De=["src"],Ee=["onClick"],Pe=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-arrows-fullscreen",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z"})],-1),Fe=[Pe],q=g({props:{gallery:null},setup(a){const t=k(),s=()=>{var i;(i=t.value)==null||i.requestFullscreen()};return(i,l)=>(r(),d(m,null,[a.gallery?(r(),d("article",Oe,[e("div",{ref_key:"fullscreen",ref:t,class:"row g-0 align-items-center justify-content-center"},[(r(!0),d(m,null,$(a.gallery.embeds,(n,o)=>(r(),d("div",{key:o,class:J(["col",{[`col-${a.gallery.col}`]:a.gallery.col!==0}])},[e("div",Ge,[e("iframe",{src:n,frameborder:"0"},null,8,De)])],2))),128))],512)])):y("",!0),a.gallery?(r(),b(C,{key:1,to:"#navPortal"},[f(Ne,{modelValue:a.gallery.col,"onUpdate:modelValue":l[0]||(l[0]=n=>a.gallery.col=n),title:"Columns Per Row"},null,8,["modelValue"]),e("button",{onClick:ae(s,["prevent"]),class:"btn btn-dark",title:"Fullscreen"},Fe,8,Ee)])):y("",!0)],64))}}),Re=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-pencil",viewBox:"0 0 16 16"},[e("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})],-1),je=[Re],Ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-share",viewBox:"0 0 16 16"},[e("path",{d:"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"})],-1),Je=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[e("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),e("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1),Te=[Je],Ue={class:"modal-dialog modal-lg"},We={class:"modal-content"},qe=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"modalLabel"},"Edit Gallery"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ze={key:0,class:"modal-body"},Ke={class:"form-check"},Qe=e("label",{class:"form-check-label",for:"nsfw"}," NSFW ",-1),Ye=e("hr",null,null,-1),Xe=["onUpdate:modelValue"],et=["onClick"],tt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),e("path",{"fill-rule":"evenodd",d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})],-1),lt=[tt],ot=["onClick"],at=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-chevron-double-up",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M7.646 2.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 3.707 2.354 9.354a.5.5 0 1 1-.708-.708l6-6z"}),e("path",{"fill-rule":"evenodd",d:"M7.646 6.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 7.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"})],-1),st=[at],nt=["onClick"],rt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-chevron-up",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"})],-1),it=[rt],ct=["onClick"],dt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-chevron-down",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})],-1),ut=[dt],ht=["onClick"],vt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-chevron-double-down",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M1.646 6.646a.5.5 0 0 1 .708 0L8 12.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"}),e("path",{"fill-rule":"evenodd",d:"M1.646 2.646a.5.5 0 0 1 .708 0L8 8.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})],-1),_t=[vt],mt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[e("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),e("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1),gt=[mt],pt=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1),ft=g({setup(a){const t=D(),s=U(),{id:i}=s.params,l=S(()=>v.data.find(c=>c.id===i)),n=S(()=>btoa(JSON.stringify(l.value))),o=S(()=>{var c;return((c=l.value)==null?void 0:c.embeds)||[]});B(()=>o.value,()=>{if(!!o.value.length)for(let c=0;c<o.value.length;c++)o.value[c]||o.value.splice(c,1)},{deep:!0}),B(()=>l.value,O,{deep:!0});const w=(c,_)=>{if(!o.value.length)return;const z=o.value[c];o.value.splice(c,1),o.value.splice(_,0,z)},E=k(),x=k();se(()=>{x.value=new ne(E.value),o.value.length===0&&x.value.show()});const P=()=>{var c;if(l.value&&confirm("Are you sure?")){(c=x.value)==null||c.hide();const _=v.data.indexOf(l.value);v.data.splice(_,1),O(),t.push("/")}},K=c=>{confirm("Are you sure?")&&o.value.splice(c,1)};return(c,_)=>{const z=V("router-link");return r(),d(m,null,[(r(),b(C,{to:"#navPortal"},[e("button",{class:"btn btn-primary",onClick:_[0]||(_[0]=M=>{var h;return(h=x.value)==null?void 0:h.show()}),title:"Edit"},je),f(z,{to:`/a/${u(n)}`,class:"btn btn-outline-primary",title:"Share"},{default:G(()=>[Ie]),_:1},8,["to"]),e("button",{onClick:P,class:"btn btn-outline-danger",title:"Delete"},Te)])),e("div",{class:"modal fade",id:"modal",ref_key:"modal",ref:E,tabindex:"-1","aria-labelledby":"modalLabel","aria-hidden":"true"},[e("div",Ue,[e("div",We,[qe,u(l)?(r(),d("div",Ze,[e("div",Ke,[j(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":_[1]||(_[1]=M=>u(l).nsfw=M),id:"nsfw"},null,512),[[re,u(l).nsfw]]),Qe]),Ye,(r(!0),d(m,null,$(u(o).length+1,(M,h)=>(r(),d("div",{key:h,class:"d-flex gap-1 align-items-center justify-content-end mb-2"},[j(e("input",{type:"text","onUpdate:modelValue":p=>u(o)[h]=p,class:"form-control"},null,8,Xe),[[ie,u(o)[h]]]),e("button",{onClick:p=>K(h),class:"btn btn-outline-danger btn-sm",title:"Delete"},lt,8,et),e("button",{onClick:p=>w(h,0),class:"btn btn-outline-secondary btn-sm",title:"Delete"},st,8,ot),e("button",{onClick:p=>w(h,h-1),class:"btn btn-outline-secondary btn-sm"},it,8,nt),e("button",{onClick:p=>w(h,h+1),class:"btn btn-outline-secondary btn-sm"},ut,8,ct),e("button",{onClick:p=>w(h,u(o).length-1),class:"btn btn-outline-secondary btn-sm"},_t,8,ht)]))),128))])):y("",!0),e("div",{class:"modal-footer d-flex justify-content-between"},[e("button",{onClick:P,class:"btn btn-outline-danger",title:"Delete"},gt),pt])])])],512),u(l)?(r(),b(q,{key:0,gallery:u(l)},null,8,["gallery"])):y("",!0)],64)}}}),bt=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-save",viewBox:"0 0 16 16"},[e("path",{d:"M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1H2z"})],-1),wt=[bt],yt=g({setup(a){const t=D(),s=U(),{id:i}=s.params,l=T(H(L({},JSON.parse(atob(i))),{id:void 0})),n=()=>{const{id:o}=W(l);t.push(`/${o}`)};return(o,w)=>(r(),d(m,null,[(r(),b(C,{to:"#navPortal"},[e("button",{onClick:n,class:"btn btn-primary",title:"Save Gallery"},wt)])),f(q,{gallery:u(l)},null,8,["gallery"])],64))}}),xt=[{name:"Home",path:"/",component:Se,beforeEnter:I},{name:"Gallery",path:"/:id",component:ft,beforeEnter:I},{name:"PermaGallery",path:"/a/:id",component:yt}],Z=ce({history:de(),routes:xt});Z.afterEach(a=>{var t;ue({page_path:a.fullPath,page_title:(t=a.name)==null?void 0:t.toString()})});he(ke).use(Z).use(ve,{config:{id:"G-FK8QWQRYS2"}}).mount("#app");
